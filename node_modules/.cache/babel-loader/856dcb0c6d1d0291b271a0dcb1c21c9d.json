{"ast":null,"code":"import api from '@/api/directory';\nimport { mapState } from 'vuex';\nimport Loader from '@/components/loader/loader.vue';\nimport filterDirectory from '@/components/filter/FilterDirectory.vue';\nexport default {\n  name: 'PartnerTable',\n  components: {\n    Loader,\n    filterDirectory\n  },\n\n  data() {\n    return {\n      counterparties: '',\n      loader: false,\n      filter_directory: {\n        search: ''\n      },\n      loader: false\n    };\n  },\n\n  mounted() {\n    this.loader = true;\n    api.getAllcounterparties().then(response => {\n      this.counterparties = response.data.data;\n      this.loader = false;\n    });\n  },\n\n  methods: {\n    getCounterparties() {\n      this.loader = true;\n      api.getAllcounterparties(this.filter_directory).then(response => {\n        this.counterparties = response.data.data;\n        this.loader = false;\n      });\n    },\n\n    updateFilterDataDirectory(filter_directory) {\n      this.filter_directory = filter_directory;\n    }\n\n  },\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid,\n      allGroups: state => state.auth.groups,\n      staffGlobal: state => state.auth.users\n    })\n  }\n};","map":{"version":3,"mappings":"AAmDA;AACA;AACA;AACA;AACA;EACAA,oBADA;EAEAC;IAAAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC,kBADA;MAEAC,aAFA;MAGAC;QACAC;MADA,CAHA;MAMAF;IANA;EAQA,CAZA;;EAaAG;IACA;IACAC,2BACAC,IADA,CACAC;MACA;MACA;IAEA,CALA;EAMA,CArBA;;EAsBAC;IACAC;MACA;MACAJ,gDACAC,IADA,CACAC;QACA;QACA;MACA,CAJA;IAMA,CATA;;IAUAG;MACA;IACA;;EAZA,CAtBA;EAoCAC,YACA;MACAC,8BADA;MAEAC,4BAFA;MAGAC,qCAHA;MAIAC;IAJA;EADA;AApCA","names":["name","components","Loader","filterDirectory","data","counterparties","loader","filter_directory","search","mounted","api","then","response","methods","getCounterparties","updateFilterDataDirectory","computed","user","uid","allGroups","staffGlobal"],"sourceRoot":"src/components/Table","sources":["PartnerTable.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <Loader :loader=\"loader\"></Loader>\r\n    <filterDirectory @updateFilterDataDirectory =\"updateFilterDataDirectory\"></filterDirectory>\r\n    <button class=\"Accept\" @click=\"getCounterparties()\" style=\"width: 100%; position: relative; left: 50%; transform: translate(-50%,0)\">Запросить контрагентов</button>\r\n    <div style=\"width: 100%; overflow-x: auto; height: 80vh; overflow-y: auto; position: relative; left: 50%; transform: translate(-50%,0); margin-bottom: 3%;\"> \r\n    <table class=\"table\" style=\"table-layout: fixed;\">\r\n        <thead>\r\n            <tr>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Рабочее наименование</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Кратное наименование</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Полное наименование</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">ЕЛС</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">ОГРН/ЕГРПОУ/БИН</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">ИНН/РНН</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">КПП/№ Св-ва НДС</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Юридический адрес</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Дата создания</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Руководитель</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Телефон</th>\r\n                    <th style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">Группа</th>\r\n\r\n\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n                <tr v-for=\"part in counterparties\" :key=\"part.id\">\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.work_name}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.short_name}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.full_name}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.els}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.ogrn}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.inn}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.kpp}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.legal_address}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{new Date(part.created_at).toLocaleString()}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.manager}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\">{{part.phone}}</td>\r\n                    <td style=\"width:  200px !important; height: 50px !important; vertical-align: middle !important;\"\r\n                        v-if=\"part.group == bra\"\r\n                    >{{part.group}}</td>\r\n                    \r\n\r\n                </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n</div>    \r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/directory'\r\nimport { mapState } from 'vuex';\r\nimport Loader from '@/components/loader/loader.vue'\r\nimport filterDirectory from '@/components/filter/FilterDirectory.vue'\r\nexport default {\r\n    name: 'PartnerTable',\r\n    components: {Loader,filterDirectory},\r\n    data(){\r\n        return{\r\n            counterparties: '',\r\n            loader: false,\r\n            filter_directory:{\r\n                search: ''\r\n            },\r\n            loader: false\r\n        }\r\n    },\r\n    mounted(){\r\n        this.loader = true\r\n        api.getAllcounterparties()\r\n        .then(response => {\r\n            this.counterparties = response.data.data\r\n            this.loader = false\r\n\r\n        })\r\n    },\r\n    methods:{ \r\n        getCounterparties(){\r\n            this.loader = true\r\n            api.getAllcounterparties(this.filter_directory)\r\n            .then(response => {\r\n                this.counterparties = response.data.data\r\n                this.loader = false\r\n            })\r\n\r\n        },\r\n        updateFilterDataDirectory(filter_directory){\r\n            this.filter_directory = filter_directory\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            user: state => state.auth.user,\r\n            uid: state => state.auth.uid,\r\n            allGroups: state => state.auth.groups,\r\n            staffGlobal: state => state.auth.users\r\n        })\r\n    },\r\n}\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}