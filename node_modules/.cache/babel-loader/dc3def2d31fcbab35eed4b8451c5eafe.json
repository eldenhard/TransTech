{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as am5 from \"@amcharts/amcharts5\";\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\nimport { mapState } from \"vuex\";\nimport api from \"@/api/wagonPark\";\nexport default {\n  name: 'KeyFacts',\n\n  data() {\n    return {\n      keyfacts: {}\n    };\n  },\n\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid\n    })\n  },\n\n  mounted() {\n    api.getKeyFacts().then(response => {\n      this.keyfacts = response.data.wagons;\n    });\n    var root = am5.Root.new(this.$refs.chartdiv);\n    var chart = root.container.children.push(am5percent.PieChart.new(root, {\n      layout: root.verticalHorizontal\n    })); // for(let key in this.keyfacts ){\n    //     console.log( \"Ключ: \" + key + \" значение: \" + this.keyfacts[key] )\n    // }\n    // Define data\n\n    var data = [{\n      country: this.keyfacts,\n      sales: 100000\n    }, {\n      country: this.keyfacts,\n      sales: 160000\n    }, {\n      country: \"United Kingdom\",\n      sales: 80000\n    }]; // Create series\n\n    var series = chart.series.push(am5percent.PieSeries.new(root, {\n      name: \"Series\",\n      valueField: \"sales\",\n      categoryField: \"country\"\n    }));\n    series.data.setAll(data); // Add legend\n\n    var legend = chart.children.push(am5.Legend.new(root, {\n      centerX: am5.percent(50),\n      x: am5.percent(50),\n      layout: root.horizontalLayout\n    }));\n    legend.data.setAll(series.dataItems); //       let root = am5.Root.new(this.$refs.chartdiv);\n    //       root.setThemes([am5themes_Animated.new(root)]);\n    //       let chart = root.container.children.push(\n    //         am5xy.XYChart.new(root, {\n    //           panY: false,\n    //           layout: root.verticalLayout\n    //         })\n    //       );\n    //       // Define data\n    //       let data = [{\n    //           category: \"Research\",\n    //           value1: 1000,\n    //           value2: 588\n    //         },\n    //    {\n    //           category: \"Marketing\",\n    //           value1: 1200,\n    //           value2: 1800\n    //         }, {\n    //           category: \"Sales\",\n    //           value1: 850,\n    //           value2: 1230\n    //         }\n    //       ];\n    //       // Create Y-axis\n    //       let yAxis = chart.yAxes.push(\n    //         am5xy.ValueAxis.new(root, {\n    //           renderer: am5xy.AxisRendererY.new(root, {})\n    //         })\n    //       );\n    //       // Create X-Axis\n    //       let xAxis = chart.xAxes.push(\n    //         am5xy.CategoryAxis.new(root, {\n    //           renderer: am5xy.AxisRendererX.new(root, {}),\n    //           categoryField: \"category\"\n    //         })\n    //       );\n    //       xAxis.data.setAll(data);\n    //       // Create series\n    //       let series1 = chart.series.push(\n    //         am5xy.ColumnSeries.new(root, {\n    //           name: \"Series\",\n    //           xAxis: xAxis,\n    //           yAxis: yAxis,\n    //           valueYField: \"value1\",\n    //           categoryXField: \"category\"\n    //         })\n    //       );\n    //       series1.data.setAll(data);\n    //       let series2 = chart.series.push(\n    //         am5xy.ColumnSeries.new(root, {\n    //           name: \"Series\",\n    //           xAxis: xAxis,\n    //           yAxis: yAxis,\n    //           valueYField: \"value2\",\n    //           categoryXField: \"category\"\n    //         })\n    //       );\n    //       series2.data.setAll(data);\n    //       // Add legend\n    //       let legend = chart.children.push(am5.Legend.new(root, {}));\n    //       legend.data.setAll(chart.series.values);\n    //       // Add cursor\n    //       chart.set(\"cursor\", am5xy.XYCursor.new(root, {}));\n    //       this.root = root;\n    //     },\n    //     beforeDestroy() {\n    //       if (this.root) {\n    //         this.root.dispose();\n    //       }\n  }\n\n};","map":{"version":3,"mappings":";AAYA;AACA;AACA;AACA;AAGA;EACAA,gBADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC,YACA;MACAC,8BADA;MAEAC;IAFA;EADA,CAPA;;EAaAC;IACAC,kBACAC,IADA,CACAC;MACA;IACA,CAHA;IAIA;IACA,yCACAC;MACAC;IADA,EADA,EANA,CAYA;IACA;IACA;IAIA;;IACA;MACAC,sBADA;MAEAC;IAFA,GAGA;MACAD,sBADA;MAEAC;IAFA,CAHA,EAMA;MACAD,yBADA;MAEAC;IAFA,CANA,EAnBA,CA8BA;;IACA,+BACAH;MACAV,cADA;MAEAc,mBAFA;MAGAC;IAHA,EADA;IAOAC,yBAtCA,CAwCA;;IACA;MACAC,wBADA;MAEAC,kBAFA;MAGAP;IAHA;IAMAQ,qCA/CA,CAgDA;IAEA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IAEA;IACA;IAEA;IACA;IAEA;IACA;IACA;IACA;EACA;;AA9IA","names":["name","data","keyfacts","computed","user","uid","mounted","api","then","response","am5percent","layout","country","sales","valueField","categoryField","series","centerX","x","legend"],"sourceRoot":"src/views","sources":["KeyFacts.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- {{keyfacts}} -->\r\n        <ul v-for=\"(value, name) in keyfacts\" >\r\n            <li> {{ name }}: {{ value }}</li>\r\n        </ul>\r\n    <div class=\"hello\" ref=\"chartdiv\">\r\n    </div>\r\n</div>\r\n</template>\r\n  \r\n<script>\r\nimport * as am5 from \"@amcharts/amcharts5\";\r\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\r\nimport { mapState } from \"vuex\";\r\nimport api from \"@/api/wagonPark\"\r\n\r\n\r\nexport default {\r\n    name: 'KeyFacts',\r\n    data(){\r\n        return{\r\n            keyfacts: {}\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            user: state => state.auth.user,\r\n            uid: state => state.auth.uid\r\n        })\r\n    },\r\n    mounted() {\r\n        api.getKeyFacts()\r\n        .then(response => {\r\n            this.keyfacts = response.data.wagons\r\n        })\r\n        var root = am5.Root.new(this.$refs.chartdiv);\r\n        var chart = root.container.children.push(\r\n            am5percent.PieChart.new(root, {\r\n                layout: root.verticalHorizontal\r\n            })\r\n        );\r\n\r\n        // for(let key in this.keyfacts ){\r\n        //     console.log( \"Ключ: \" + key + \" значение: \" + this.keyfacts[key] )\r\n        // }\r\n\r\n\r\n\r\n        // Define data\r\n        var data = [{\r\n            country: this.keyfacts,\r\n            sales: 100000\r\n        }, {\r\n            country: this.keyfacts,\r\n            sales: 160000\r\n        }, {\r\n            country: \"United Kingdom\",\r\n            sales: 80000\r\n        }];\r\n\r\n        // Create series\r\n        var series = chart.series.push(\r\n            am5percent.PieSeries.new(root, {\r\n                name: \"Series\",\r\n                valueField: \"sales\",\r\n                categoryField: \"country\"\r\n            })\r\n        );\r\n        series.data.setAll(data);\r\n\r\n        // Add legend\r\n        var legend = chart.children.push(am5.Legend.new(root, {\r\n            centerX: am5.percent(50),\r\n            x: am5.percent(50),\r\n            layout: root.horizontalLayout\r\n        }));\r\n\r\n        legend.data.setAll(series.dataItems);\r\n        //       let root = am5.Root.new(this.$refs.chartdiv);\r\n\r\n        //       root.setThemes([am5themes_Animated.new(root)]);\r\n\r\n        //       let chart = root.container.children.push(\r\n        //         am5xy.XYChart.new(root, {\r\n        //           panY: false,\r\n        //           layout: root.verticalLayout\r\n        //         })\r\n        //       );\r\n\r\n        //       // Define data\r\n        //       let data = [{\r\n        //           category: \"Research\",\r\n        //           value1: 1000,\r\n        //           value2: 588\r\n        //         },\r\n        //    {\r\n        //           category: \"Marketing\",\r\n        //           value1: 1200,\r\n        //           value2: 1800\r\n        //         }, {\r\n        //           category: \"Sales\",\r\n        //           value1: 850,\r\n        //           value2: 1230\r\n        //         }\r\n        //       ];\r\n\r\n        //       // Create Y-axis\r\n        //       let yAxis = chart.yAxes.push(\r\n        //         am5xy.ValueAxis.new(root, {\r\n        //           renderer: am5xy.AxisRendererY.new(root, {})\r\n        //         })\r\n        //       );\r\n\r\n        //       // Create X-Axis\r\n        //       let xAxis = chart.xAxes.push(\r\n        //         am5xy.CategoryAxis.new(root, {\r\n        //           renderer: am5xy.AxisRendererX.new(root, {}),\r\n        //           categoryField: \"category\"\r\n        //         })\r\n        //       );\r\n        //       xAxis.data.setAll(data);\r\n\r\n        //       // Create series\r\n        //       let series1 = chart.series.push(\r\n        //         am5xy.ColumnSeries.new(root, {\r\n        //           name: \"Series\",\r\n        //           xAxis: xAxis,\r\n        //           yAxis: yAxis,\r\n        //           valueYField: \"value1\",\r\n        //           categoryXField: \"category\"\r\n        //         })\r\n        //       );\r\n        //       series1.data.setAll(data);\r\n\r\n        //       let series2 = chart.series.push(\r\n        //         am5xy.ColumnSeries.new(root, {\r\n        //           name: \"Series\",\r\n        //           xAxis: xAxis,\r\n        //           yAxis: yAxis,\r\n        //           valueYField: \"value2\",\r\n        //           categoryXField: \"category\"\r\n        //         })\r\n        //       );\r\n        //       series2.data.setAll(data);\r\n\r\n        //       // Add legend\r\n        //       let legend = chart.children.push(am5.Legend.new(root, {}));\r\n        //       legend.data.setAll(chart.series.values);\r\n\r\n        //       // Add cursor\r\n        //       chart.set(\"cursor\", am5xy.XYCursor.new(root, {}));\r\n\r\n        //       this.root = root;\r\n        //     },\r\n\r\n        //     beforeDestroy() {\r\n        //       if (this.root) {\r\n        //         this.root.dispose();\r\n        //       }\r\n    }\r\n}\r\n</script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.hello {\r\n    width: 100%;\r\n    height: 500px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}