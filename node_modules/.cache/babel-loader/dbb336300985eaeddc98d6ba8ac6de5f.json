{"ast":null,"code":"import api from '@/api/report';\nimport { mapState } from 'vuex';\nimport Notifications from '@/components/notifications/Notifications.vue';\nexport default {\n  name: 'BDRreport',\n  components: {\n    Notifications\n  },\n\n  data() {\n    return {\n      BDRreport: '',\n      loaderBDR: false,\n      showNotify: false,\n      notifyHead: '',\n      notifyMessage: '',\n      notifyClass: ''\n    };\n  },\n\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid\n    })\n  },\n  methods: {\n    createBDRreport() {\n      this.loaderBDR = true;\n      api.createBDRreport().then(response => {\n        api.getBDRreport().then(response => {\n          this.BDRreport = response.data.data;\n          this.loaderBDR = false;\n          this.notifyHead = 'Успешно';\n          this.notifyMessage = 'Отчет создан';\n          this.notifyClass = 'wrapper-success';\n          this.showNotify = true;\n          setTimeout(this.closeNotification, 1500);\n        });\n      });\n    },\n\n    OpenCreateBDRreport() {\n      api.getBDRreport().then;\n    },\n\n    closeNotification() {\n      this.showNotify = false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsFA;AACA;AACA;AAEA;EACAA,iBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC,aADA;MAEAC,gBAFA;MAGAC,iBAHA;MAIAC,cAJA;MAKAC,iBALA;MAMAC;IANA;EASA,CAbA;;EAcAC,YACA;MACAC,8BADA;MAEAC;IAFA;EADA,CAdA;EAoBAC;IACAC;MACA;MACAC,sBACAC,IADA,CACAC;QACAF,mBACAC,IADA,CACAC;UACA;UACA;UACA;UACA;UACA;UACA;UACAC;QAEA,CAVA;MAWA,CAbA;IAcA,CAjBA;;IAkBAC;MACAJ,mBACAC,IADA;IAEA,CArBA;;IAsBAI;MACA;IACA;;EAxBA;AApBA","names":["name","components","Notifications","data","BDRreport","loaderBDR","showNotify","notifyHead","notifyMessage","notifyClass","computed","user","uid","methods","createBDRreport","api","then","response","setTimeout","OpenCreateBDRreport","closeNotification"],"sourceRoot":"src/views","sources":["BDRreport.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <section  style=\"display:block\" id=\"loaderStaff\" v-if=\"loaderBDR\">\r\n<svg version=\"1.1\" id=\"L7\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n  viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\">\r\n <path fill=\"#C04945\" d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r\n  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"2s\" \r\n         from=\"0 50 50\"\r\n         to=\"360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n <path fill=\"#ECECEC\" d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r\n  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"1s\" \r\n         from=\"0 50 50\"\r\n         to=\"-360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n <path fill=\"#3D70A8\" d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r\n  L82,35.7z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"2s\" \r\n         from=\"0 50 50\"\r\n         to=\"360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n</svg>\r\n  \r\n \r\n</section> \r\n    <h2>БДР отчеты</h2>\r\n    <b-container class=\"bv-example-row\">\r\n     <b-row>\r\n    <b-col>\r\n        <button class=\"button Action\" @click=\"createBDRreport()\" style=\"width: 60%; position: relative; left: 50%; transform: translate(-50%,0); font-size: 17px; margin-top: 3%\">Создать шаблон БДР отчета</button>\r\n    </b-col>\r\n\r\n    <b-col>\r\n        <button class=\"button Action\" @click=\"OpenCreateBDRreport()\"  style=\"width: 60%; position: relative; left: 50%; transform: translate(-50%,0); font-size: 17px; margin-top: 3%\">Загрузить БДР отчет</button>\r\n    </b-col>\r\n  </b-row>\r\n\r\n</b-container>\r\n<br>\r\n\r\n<div style=\"width: 90%; overflow-x: auto; height: 80vh; overflow-y: auto; position: relative; left: 50%; transform: translate(-50%,0);\"> \r\n    <table class=\"table\" style=\"table-layout: fixed;\">\r\n        <thead>\r\n            <tr>\r\n                    <th style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">Название</th>\r\n                    <th style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">Дата создания</th>\r\n                    <th style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">Дата последнего обновления</th>\r\n                    <th style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">Файл</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n                <tr v-for=\"bdr in BDRreport\" :key=\"bdr.id\">\r\n                    <td style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">{{bdr.name}}</td>\r\n                    <td style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">{{new Date(bdr.created_at).toLocaleString()}}</td>\r\n                    <td style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">{{new Date(bdr.updated_at).toLocaleString()}}</td>\r\n                    <td style=\"width: 150px !important; height: 50px !important; vertical-align: middle !important;\">\r\n                        <a target=\"_blank\" :href=\"bdr.file\" v-if=\"bdr.file\"><img src=\"@/assets/excel.png\" alt=\"\" width=\"50px!important\"></a>\r\n                    </td>\r\n                </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n     \r\n     \r\n<Notifications :show=\"showNotify\" :header=\"notifyHead\" :message=\"notifyMessage\" :block-class=\"notifyClass\" id=\"notif\"/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/report'\r\nimport { mapState } from 'vuex';\r\nimport Notifications from '@/components/notifications/Notifications.vue'\r\n\r\nexport default {\r\n    name: 'BDRreport',\r\n    components: {Notifications},\r\n    data(){\r\n        return{\r\n            BDRreport: '',\r\n            loaderBDR: false,\r\n            showNotify: false,\r\n            notifyHead: '',\r\n            notifyMessage: '',\r\n            notifyClass: '',\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            user: state => state.auth.user,\r\n            uid: state => state.auth.uid\r\n        })\r\n    },\r\n    methods: {\r\n        createBDRreport(){\r\n            this.loaderBDR = true\r\n            api.createBDRreport()\r\n            .then(response => {\r\n                api.getBDRreport()\r\n                .then(response => {\r\n                this.BDRreport = response.data.data\r\n                this.loaderBDR = false\r\n                this.notifyHead = 'Успешно'\r\n                this.notifyMessage = 'Отчет создан'\r\n                this.notifyClass = 'wrapper-success'\r\n                this.showNotify = true\r\n                setTimeout(this.closeNotification, 1500)\r\n\r\n            })\r\n            })\r\n        },\r\n        OpenCreateBDRreport(){\r\n            api.getBDRreport()\r\n            .then\r\n        },\r\n        closeNotification(){\r\n            this.showNotify = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}