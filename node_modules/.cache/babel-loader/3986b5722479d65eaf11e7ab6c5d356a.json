{"ast":null,"code":"import { mapState } from \"vuex\";\nimport api from '@/api/report'; // import Notifications from \"@/components/notifications/Notifications.vue\";\n\nexport default {\n  name: 'modalReportWindow',\n  // components: {Notifications},\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid\n    })\n  },\n\n  data() {\n    return {\n      answer1: null,\n      answer2: null,\n      answer3: null,\n      answer4: null,\n      answer5: null,\n      answer6: null,\n      reason1: '',\n      reason2: '',\n      reason3: '',\n      reason4: '',\n      reason5: '',\n      reason6: ''\n    };\n  },\n\n  computed: {\n    r1() {\n      if (this.OnceReport.attrib1 != this.answer1) {\n        if (this.reason1 == null || this.reason1 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    r2() {\n      if (this.OnceReport.attrib2 != this.answer2) {\n        if (this.reason2 == null || this.reason2 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    r3() {\n      if (this.OnceReport.attrib3 != this.answer3) {\n        if (this.reason3 == null || this.reason3 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    r4() {\n      if (this.OnceReport.attrib4 != this.answer4) {\n        if (this.reason4 == null || this.reason4 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    r5() {\n      if (this.OnceReport.attrib5 != this.answer5) {\n        if (this.reason5 == null || this.reason5 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    r6() {\n      if (this.OnceReport.attrib6 != this.answer6) {\n        if (this.reason6 == null || this.reason6 == '') {\n          return true;\n        }\n\n        return false;\n      }\n\n      return false;\n    },\n\n    errors() {\n      if (this.r1 || this.r2 || this.r3 || this.r4 || this.r5 || this.r6) {\n        return true;\n      }\n\n      return false;\n    }\n\n  },\n  props: ['OnceReport'],\n  methods: {\n    closeChangeReport() {\n      this.$emit('close');\n    },\n\n    changeReport() {\n      if (!this.errors) {\n        api.saveReport(this.OnceReport.id, {\n          'attrib1': this.answer1,\n          'attrib2': this.answer2,\n          'attrib3': this.answer3,\n          'attrib4': this.answer4,\n          'attrib5': this.answer5,\n          'attrib6': this.answer6,\n          'attrib1_change_reason': this.reason1,\n          'attrib2_change_reason': this.reason2,\n          'attrib3_change_reason': this.reason3,\n          'attrib4_change_reason': this.reason4,\n          'attrib5_change_reason': this.reason5,\n          'attrib6_change_reason': this.reason6\n        }).then(response => {\n          console.log(response);\n          this.$emit('close');\n        });\n      }\n    }\n\n  },\n\n  mounted() {\n    this.answer1 = this.OnceReport.attrib1;\n    this.answer2 = this.OnceReport.attrib2;\n    this.answer3 = this.OnceReport.attrib3;\n    this.answer4 = this.OnceReport.attrib4;\n    this.answer5 = this.OnceReport.attrib5;\n    this.answer6 = this.OnceReport.attrib6;\n    this.reason1 = this.OnceReport.attrib1_change_reason;\n    this.reason2 = this.OnceReport.attrib2_change_reason;\n    this.reason3 = this.OnceReport.attrib3_change_reason;\n    this.reason4 = this.OnceReport.attrib4_change_reason;\n    this.reason5 = this.OnceReport.attrib5_change_reason;\n    this.reason6 = this.OnceReport.attrib6_change_reason;\n  }\n\n};","map":{"version":3,"mappings":"AA8LA;AACA,+B,CACA;;AAEA;EACAA,yBADA;EAEA;EACAC,YACA;MACAC,8BADA;MAEAC;IAFA;EADA,CAHA;;EASAC;IACA;MACAC,aADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC,aAJA;MAKAC,aALA;MAMAC,aANA;MAOAC,WAPA;MAQAC,WARA;MASAC,WATA;MAUAC,WAVA;MAWAC,WAXA;MAYAC;IAZA;EAcA,CAxBA;;EAyBAf;IACAgB;MACA;QACA;UACA;QACA;;QACA;MACA;;MACA;IACA,CATA;;IAUAC;MACA;QACA;UACA;QACA;;QACA;MACA;;MAAA;IAAA,CAhBA;;IAiBAC;MACA;QACA;UACA;QACA;;QACA;MACA;;MAAA;IAAA,CAvBA;;IAwBAC;MACA;QACA;UACA;QACA;;QACA;MACA;;MAAA;IAAA,CA9BA;;IA+BAC;MACA;QACA;UACA;QACA;;QACA;MACA;;MAAA;IAAA,CArCA;;IAsCAC;MACA;QACA;UACA;QACA;;QACA;MACA;;MAAA;IAAA,CA5CA;;IA6CAC;MACA;QACA;MACA;;MACA;IACA;;EAlDA,CAzBA;EA8EAC,qBA9EA;EA+EAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACAC;UACA,uBADA;UAEA,uBAFA;UAGA,uBAHA;UAIA,uBAJA;UAKA,uBALA;UAMA,uBANA;UAOA,qCAPA;UAQA,qCARA;UASA,qCATA;UAUA,qCAVA;UAWA,qCAXA;UAYA;QAZA,GAaAC,IAbA,CAaAC,YACA;UACAC;UACA;QACA,CAjBA;MAkBA;IACA;;EAzBA,CA/EA;;EA2GAC;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;EACA;;AAzHA","names":["name","computed","user","uid","data","answer1","answer2","answer3","answer4","answer5","answer6","reason1","reason2","reason3","reason4","reason5","reason6","r1","r2","r3","r4","r5","r6","errors","props","methods","closeChangeReport","changeReport","api","then","response","console","mounted"],"sourceRoot":"src/components/modalReport","sources":["modal.vue"],"sourcesContent":["<template>\r\n <div>  \r\n<!-- <Notifications :show=\"showNotify\" :header=\"notifyHead\" :message=\"notifyMessage\" :block-class=\"notifyClass\"/> -->\r\n<div class=\"wrapper-success\" id=\"notifications\" style=\"display:block\" v-if=\"s\">\r\n    <div class=\"card\">\r\n        <div class=\"subject\">\r\n        <h5>Успешно</h5>\r\n        <p>Ваша анкета изменена и отправлена</p>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"wrapper-alert\" id=\"notifications-2\" style=\"display: block;\">\r\n<div class=\"card\">\r\n    <div class=\"subject\">\r\n    <h5>Ошибка</h5>\r\n    <p></p>\r\n    </div>\r\n</div>\r\n</div>\r\n\r\n<!-- Модальное окно -->\r\n<div class=\"modal_layer_report\" id=\"modal_layer_report\">\r\n    <div class=\"modal_window_report\">\r\n    <h2>Изменить анкету</h2>\r\n    <div class=\"change_report\">\r\n    <p class=\"answer\" name=\"a1\" >1. Готовность неукоснительно выполнять все производственные задания, порученные руководителем.</p>\r\n\r\n     \r\n        <input type=\"radio\" name=\"first-question\" id=\"first-question-1\"  value=\"c1\" v-model=\"answer1\">\r\n        <label for=\"first-question-1\">&nbsp;Неисполнителен, склонен под любыми предлогами избегать получения новых заданий. Были случаи прямого отказа от выполнения заданий.</label><br>\r\n\r\n        <input type=\"radio\" name=\"first-question\" id=\"first-question-2\" value=\"c2\"  v-model=\"answer1\">\r\n        <label  for=\"first-question-2\">&nbsp;Низкий уровень исполнительности. Иногда пытается избежать получения новых заданий, умело находя предлоги</label><br>\r\n\r\n        <input type=\"radio\" name=\"first-question\" id=\"first-question-3\"  value=\"c3\"  v-model=\"answer1\">\r\n        <label for=\"first-question-3\" >&nbsp;Хороший уровень исполнительности, но нельзя сказать, что каждый день без исключений. Берется за выполнение любых производственных заданий, но не всегда охотно.</label><br>\r\n\r\n        <input type=\"radio\" name=\"first-question\" id=\"first-question-4\"  value=\"c4\"  v-model=\"answer1\">\r\n        <label for=\"first-question-4\" >&nbsp;Безукоризненный уровень исполнительности. Всегда охотно берется за выполнение всех производственных заданий, порученных руководителем.</label><br>\r\n        <textarea name=\"\" id=\"\" rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\" v-model=\"reason1\"></textarea>\r\n        <p class=\"error\" v-if=\"r1\">Заполните причину</p>\r\n        <hr>\r\n        \r\n       <p class=\"answer\"  name=\"a2\">2. Способность справляться со своими обязанностями и поручениями. Умение выявлять и решать возникающие в работе проблемы</p>\r\n     \r\n        <input type=\"radio\" name=\"second-question\" id=\"second-question-1\"  value=\"c1\"  v-model=\"answer2\">\r\n        <label for=\"second-question-1\" >&nbsp;Часто не справляется со своими обязанностями и поручениями или заданиями. Не умеет выявлять проблемы и с трудом решает их</label><br>\r\n\r\n        <input type=\"radio\" name=\"second-question\" id=\"second-question-2\"  value=\"c2\"  v-model=\"answer2\">\r\n        <label for=\"second-question-2\">&nbsp;Как правило справляется со своими обязанностями, но порой не выполняет их так как надо или с трудом решает возникающие проблемы</label><br>\r\n\r\n        <input type=\"radio\" name=\"second-question\" id=\"second-question-3\"  value=\"c3\"  v-model=\"answer2\">\r\n        <label for=\"second-question-3\" > &nbsp;Практически всегда хорошо справляется со всеми обязанностями, умело решает проблемы, но нельзя сказать, что каждый день без исключений</label><br>\r\n\r\n        <input type=\"radio\" name=\"second-question\" id=\"second-question-4\"  value=\"c4\"  v-model=\"answer2\">\r\n        <label for=\"second-question-4\" > &nbsp;Проявляет отличную способность справляться со всеми обязанностями и производственными заданиями. Всегда умело выявляет и быстро решает возникающие проблемы</label><br>\r\n        \r\n        <textarea name=\"\" id=\"\" rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\"  v-model=\"reason2\"></textarea>\r\n        <p class=\"error\" v-if=\"r2\">Заполните причину</p>\r\n        <hr>\r\n\r\n    <p class=\"answer\"  name=\"a3\">3. Компетентность. Знание используемых приемов и методов работы и умение в точности им следовать, наличие необходимых навыков</p>\r\n\r\n     \r\n        <input type=\"radio\" name=\"third-question\" id=\"third-question-1\"   value=\"c1\"  v-model=\"answer3\">\r\n        <label for=\"third-question-1\">&nbsp;Некомпетентен. Не знает используемые приемы и методы работы и не стремится быстро освоить их</label><br>\r\n\r\n        <input type=\"radio\" name=\"third-question\" id=\"third-question-2\"  value=\"c2\" v-model=\"answer3\">\r\n        <label for=\"third-question-2\">&nbsp;Недостаточно хорошо знает нужные приемы работы, пока имеет слабые навыки и медленно их развивает</label><br>\r\n\r\n        <input type=\"radio\" name=\"third-question\" id=\"third-question-3\"   value=\"c3\" v-model=\"answer3\">\r\n        <label for=\"third-question-3\" >&nbsp;Хорошо знает используемые методы работы, но нельзя сказать, что всегда в точности следует им</label><br>\r\n\r\n        <input type=\"radio\" name=\"third-question\" id=\"third-question-4\"  value=\"c4\" v-model=\"answer3\">\r\n        <label for=\"third-question-4\" >&nbsp;Компетентен. Отлично знает все методы работы и неукоснительно следует им каждый рабочий день</label><br>\r\n        \r\n        <textarea name=\"\" id=\"\" rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\"  v-model=\"reason3\"></textarea>\r\n        <p class=\"error\" v-if=\"r3\">Заполните причину</p>\r\n        <hr>\r\n\r\n\r\n      <p class=\"answer\" name=\"a4\">4. Заинтересованность и активность в вопросах повышения качества, производительности труда и освоения эффективных методов работы</p>\r\n\r\n     \r\n        <input type=\"radio\" name=\"fourth-question\" id=\"fourth-question-1\"  value=\"c1\" v-model=\"answer4\">\r\n        <label for=\"fourth-question-1\">&nbsp;Часто сопротивляется внедрению новых технологий, методов работы, направленных на повышение качества и производительности труда</label><br>\r\n\r\n        <input type=\"radio\" name=\"fourth-question\" id=\"fourth-question-2\"  value=\"c2\" v-model=\"answer4\">\r\n        <label  for=\"fourth-question-2\">&nbsp;Не сопротивляется, но и не проявляет интереса к вопросам повышения качества и производительности труда</label><br>\r\n\r\n        <input type=\"radio\" name=\"fourth-question\" id=\"fourth-question-3\"  value=\"c3\" v-model=\"answer4\">\r\n        <label for=\"fourth-question-3\" >&nbsp;Всегда поддерживает все нововведения, помогает осваивать новые методы работы, но не в достаточной степени активно</label><br>\r\n\r\n        <input type=\"radio\" name=\"fourth-question\" id=\"fourth-question-4\"  value=\"c4\" v-model=\"answer4\">\r\n        <label for=\"fourth-question-4\" > &nbsp;Не только активно помогает осваивать новые методы работы, но и сам часто выдвигает различные рационализаторские предложения</label><br>\r\n        \r\n        <textarea name=\"\" id=\"\" rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\"  v-model=\"reason4\"></textarea>\r\n        <p class=\"error\" v-if=\"r4\">Заполните причину</p>\r\n        <hr>\r\n\r\n      <p class=\"answer\"  name=\"a5\">5. Выполнение планового объема работ по выданным производственным заданиям.</p>\r\n\r\n     \r\n        <input type=\"radio\" name=\"fifth-question\" id=\"fifth-question-1\"  value=\"c1\" v-model=\"answer5\">\r\n        <label for=\"fifth-question-1\" >&nbsp;Не выполнялись запланированные работы по заданиям в срок</label><br>\r\n\r\n        <input type=\"radio\" name=\"fifth-question\" id=\"fifth-question-2\"  value=\"c2\" v-model=\"answer5\">\r\n        <label for=\"fifth-question-2\">&nbsp;Имели место случаи недовы-полнения в полном объеме запланированных работ по заданиям</label><br>\r\n\r\n        <input type=\"radio\" name=\"fifth-question\" id=\"fifth-question-3\"  value=\"c3\" v-model=\"answer5\">\r\n        <label for=\"fifth-question-3\" >&nbsp;Выполнялся весь объем запланированных работ, но были случаи нарушения сроков</label><br>\r\n\r\n        <input type=\"radio\" name=\"fifth-question\" id=\"fifth-question-4\"  value=\"c4\" v-model=\"answer5\">\r\n        <label for=\"fifth-question-4\" >&nbsp;Все запланированные работы по заданиям выполнялись в полном объеме и в установленные сроки </label><br>\r\n        \r\n        <textarea name=\"\" id=\"\"  rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\"  v-model=\"reason5\"></textarea>\r\n        <p class=\"error\" v-if=\"r5\">Заполните причину</p>\r\n        <hr>\r\n\r\n      <p class=\"answer\" name=\"a6\">6. Качество выполненных работ, поручений.</p>\r\n\r\n        <input type=\"radio\" name=\"sixth-question\" id=\"sixth-question-1\"  value=\"c1\" v-model=\"answer6\">\r\n        <label for=\"sixth-question-1\">&nbsp;Работы выполнялись некачественно. Имелись случаи брака и возврата заданий на доработку</label><br>\r\n\r\n        <input type=\"radio\" name=\"sixth-question\" id=\"sixth-question-2\" value=\"c2\"  v-model=\"answer6\">\r\n        <label for=\"sixth-question-2\">&nbsp;Хотя и очень редки случаи брака в работе, но были погрешности и недоработки</label><br>\r\n\r\n        <input type=\"radio\" name=\"sixth-question\" id=\"sixth-question-3\"  value=\"c3\"  v-model=\"answer6\">\r\n        <label for=\"sixth-question-3\">&nbsp;Работы выполнялись достаточно качественно, но имели место небольшие погрешности.</label><br>\r\n\r\n        <input type=\"radio\" name=\"sixth-question\" id=\"sixth-question-4\"  value=\"c4\"  v-model=\"answer6\">\r\n        <label for=\"sixth-question-4\">&nbsp;Работы выполнялись безукоризненно, аккуратно, четко, без брака, всегда в строгом соответствии со стандартами</label><br>\r\n\r\n        <textarea name=\"\" id=\"\" rows=\"1\" style=\"resize: none; width: 50%;\" placeholder=\"Причина изменения\"  v-model=\"reason6\"></textarea>\r\n        <p class=\"error\" v-if=\"r6\">Заполните причину</p>\r\n        <hr> \r\n</div>\r\n        <div class=\"btn_group_report\">\r\n            <div class=\"row container\" style=\"width: 100%; margin-left: 15%;\">\r\n                <div class=\"col-md-6\"><button class=\"button Cancel close_report\" style=\"width: 350px; height: 50px; font-size: 20px;\" @click=\"closeChangeReport()\">Закрыть без изменений</button></div>\r\n                <div class=\"col-md-6\"><button class=\"button Accept apply_report\" style=\"width: 350px; height: 50px; font-size: 20px;\" @click=\"changeReport()\" :disabled=\"errors\">Применить изменения</button></div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- Конец модального окна -->\r\n </div>\r\n</template>\r\n\r\n\r\n<style>\r\n.disabled, .errors {\r\n    background: grey;\r\n}\r\n.error{\r\n    color: red;\r\n}\r\n.modal_layer_report{\r\n    background: rgb(128, 128, 128, 0.8);\r\n    position: fixed;\r\n    top: 0;\r\n    height: 100vh;\r\n    width: 100% !important;\r\n    z-index: 5;\r\n    display: block;\r\n}\r\n.modal_window_report {\r\n    position: fixed;\r\n    width: 90%;\r\n    left: 50%;\r\n    top: 5%;\r\n    bottom: 5%;\r\n    transform: translate(-50%, 0);\r\n    background: white;\r\n    height: 90vh;\r\n    overflow-y: auto;\r\n}\r\n.change_report {\r\n    width: 95%;\r\n    font-size: 15px;\r\n    margin-left: 5%;\r\n    text-align: justify;\r\n}\r\n\r\n</style>\r\n\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport api from '@/api/report';\r\n// import Notifications from \"@/components/notifications/Notifications.vue\";\r\n\r\nexport default {\r\n    name: 'modalReportWindow',\r\n    // components: {Notifications},\r\n    computed: {\r\n    ...mapState({\r\n        user: state => state.auth.user,\r\n        uid: state => state.auth.uid\r\n    }),\r\n}, \r\n    data(){\r\n        return{\r\n            answer1: null, \r\n            answer2: null, \r\n            answer3: null, \r\n            answer4: null, \r\n            answer5: null, \r\n            answer6: null, \r\n            reason1: '',\r\n            reason2: '',\r\n            reason3: '',\r\n            reason4: '',\r\n            reason5: '',\r\n            reason6: '',\r\n        }\r\n    },\r\n    computed: {\r\n            r1(){\r\n                if(this.OnceReport.attrib1 != this.answer1){\r\n                    if(this.reason1 == null || this.reason1 == ''){\r\n                        return true\r\n                    }\r\n                    return false\r\n                } \r\n                return false\r\n            },\r\n            r2(){\r\n                 if(this.OnceReport.attrib2 != this.answer2){\r\n                if(this.reason2 == null || this.reason2 == ''){\r\n                    return true\r\n                }\r\n                return false\r\n            } return false},\r\n            r3(){\r\n                 if(this.OnceReport.attrib3 != this.answer3){\r\n                if(this.reason3 == null || this.reason3 == ''){\r\n                    return true\r\n                }\r\n                return false\r\n            } return false},\r\n            r4(){\r\n                 if(this.OnceReport.attrib4 != this.answer4){\r\n                if(this.reason4 == null || this.reason4 == ''){\r\n                    return true\r\n                }\r\n                return false\r\n            } return false},\r\n            r5(){\r\n                 if(this.OnceReport.attrib5 != this.answer5){\r\n                if(this.reason5 == null || this.reason5 == ''){\r\n                    return true\r\n                }\r\n                return false\r\n            } return false},\r\n            r6(){\r\n                 if(this.OnceReport.attrib6 != this.answer6){\r\n                if(this.reason6 == null || this.reason6 == ''){\r\n                    return true\r\n                }\r\n                return false\r\n            } return false},\r\n            errors(){\r\n                if(this.r1 || this.r2 || this.r3 || this.r4 ||this.r5 || this.r6){\r\n                 return true\r\n                }\r\n                return false\r\n            }\r\n        \r\n    },\r\n    props: ['OnceReport'],\r\n    methods: {\r\n        closeChangeReport(){\r\n            this.$emit('close')\r\n        },\r\n        changeReport(){\r\n            if(!this.errors){\r\n                api.saveReport(this.OnceReport.id, {\r\n                'attrib1': this.answer1,\r\n                'attrib2': this.answer2,\r\n                'attrib3': this.answer3,\r\n                'attrib4': this.answer4,\r\n                'attrib5': this.answer5,\r\n                'attrib6': this.answer6,\r\n                'attrib1_change_reason': this.reason1,\r\n                'attrib2_change_reason': this.reason2,\r\n                'attrib3_change_reason': this.reason3,\r\n                'attrib4_change_reason': this.reason4,\r\n                'attrib5_change_reason': this.reason5,\r\n                'attrib6_change_reason': this.reason6\r\n            }).then(response => \r\n             {\r\n                console.log(response)\r\n                this.$emit('close')\r\n            })\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.answer1 = this.OnceReport.attrib1\r\n        this.answer2 = this.OnceReport.attrib2\r\n        this.answer3 = this.OnceReport.attrib3\r\n        this.answer4 = this.OnceReport.attrib4\r\n        this.answer5 = this.OnceReport.attrib5\r\n        this.answer6 = this.OnceReport.attrib6\r\n\r\n        this.reason1 = this.OnceReport.attrib1_change_reason\r\n        this.reason2 = this.OnceReport.attrib2_change_reason\r\n        this.reason3 = this.OnceReport.attrib3_change_reason\r\n        this.reason4 = this.OnceReport.attrib4_change_reason\r\n        this.reason5 = this.OnceReport.attrib5_change_reason\r\n        this.reason6 = this.OnceReport.attrib6_change_reason\r\n    }\r\n}\r\n\r\n</script>"]},"metadata":{},"sourceType":"module"}