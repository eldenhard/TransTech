{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { Layout, eachChildren } from \"./Layout\";\nimport * as $type from \"../util/Type\";\nimport { Percent } from \"../util/Percent\";\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\n\nvar HorizontalLayout =\n/** @class */\nfunction (_super) {\n  __extends(HorizontalLayout, _super);\n\n  function HorizontalLayout() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\r\n   * @ignore\r\n   */\n\n\n  Object.defineProperty(HorizontalLayout.prototype, \"updateContainer\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (container) {\n      var paddingLeft = container.get(\"paddingLeft\", 0);\n      var availableWidth = container.innerWidth();\n      var totalPercent = 0;\n      eachChildren(container, function (child) {\n        if (child.isVisible()) {\n          if (child.get(\"position\") == \"relative\") {\n            var childWidth = child.get(\"width\");\n\n            if (childWidth instanceof Percent) {\n              totalPercent += childWidth.value;\n              var w = availableWidth * childWidth.value;\n              var minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n\n              if (minWidth > w) {\n                availableWidth -= minWidth;\n                totalPercent -= childWidth.value;\n              }\n\n              var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n\n              if (w > maxWidth) {\n                availableWidth -= maxWidth;\n                totalPercent -= childWidth.value;\n              }\n            } else {\n              if (!$type.isNumber(childWidth)) {\n                childWidth = child.width();\n              }\n\n              availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\n            }\n          }\n        }\n      });\n\n      if (availableWidth < 0) {\n        availableWidth = 0.01;\n      } //if (availableWidth > 0) {\n\n\n      eachChildren(container, function (child) {\n        if (child.isVisible()) {\n          if (child.get(\"position\") == \"relative\") {\n            var childWidth = child.get(\"width\");\n\n            if (childWidth instanceof Percent) {\n              var privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\n              var minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n              var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n              privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\n              child.setPrivate(\"width\", privateWidth);\n            }\n          }\n        }\n      }); //}\n\n      var prevX = paddingLeft;\n      eachChildren(container, function (child) {\n        if (child.get(\"position\") == \"relative\") {\n          if (child.isVisible()) {\n            var bounds = child.adjustedLocalBounds();\n            var marginLeft = child.get(\"marginLeft\", 0);\n            var marginRight = child.get(\"marginRight\", 0);\n            var maxWidth = child.get(\"maxWidth\");\n            var left = bounds.left;\n            var right = bounds.right;\n\n            if (maxWidth) {\n              if (right - left > maxWidth) {\n                right = left + maxWidth;\n              }\n            }\n\n            var x = prevX + marginLeft - left;\n            child.setPrivate(\"x\", x);\n            prevX = x + right + marginRight;\n          } else {\n            child.setPrivate(\"x\", undefined);\n          }\n        }\n      });\n    }\n  });\n  Object.defineProperty(HorizontalLayout, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"HorizontalLayout\"\n  });\n  Object.defineProperty(HorizontalLayout, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Layout.classNames.concat([HorizontalLayout.className])\n  });\n  return HorizontalLayout;\n}(Layout);\n\nexport { HorizontalLayout };","map":{"version":3,"mappings":"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","names":["Layout","eachChildren","$type","Percent","__extends","container","paddingLeft","get","availableWidth","innerWidth","totalPercent","child","isVisible","childWidth","value","w","minWidth","getPrivate","Infinity","maxWidth","isNumber","width","privateWidth","Math","min","max","setPrivate","prevX","bounds","adjustedLocalBounds","marginLeft","marginRight","left","right","x","undefined","Object","classNames","concat","HorizontalLayout","className"],"sourceRoot":"","sources":["../../../../../src/.internal/core/render/HorizontalLayout.ts"],"sourcesContent":["import { Layout, eachChildren } from \"./Layout\";\nimport * as $type from \"../util/Type\";\nimport { Percent } from \"../util/Percent\";\nimport type { Container } from \"./Container\";\n\n/**\n * A horizontal children layout for [[Container]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\n */\nexport class HorizontalLayout extends Layout {\n\n\tpublic static className: string = \"HorizontalLayout\";\n\tpublic static classNames: Array<string> = Layout.classNames.concat([HorizontalLayout.className]);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateContainer(container: Container): void {\n\n\t\tlet paddingLeft = container.get(\"paddingLeft\", 0);\n\n\t\tlet availableWidth = container.innerWidth();\n\n\t\tlet totalPercent = 0;\n\n\t\teachChildren(container, (child) => {\n\t\t\tif (child.isVisible()) {\n\t\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\t\tlet childWidth = child.get(\"width\");\n\t\t\t\t\tif (childWidth instanceof Percent) {\n\t\t\t\t\t\ttotalPercent += childWidth.value;\n\n\t\t\t\t\t\tlet w = availableWidth * childWidth.value;\n\t\t\t\t\t\tlet minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n\t\t\t\t\t\tif (minWidth > w) {\n\t\t\t\t\t\t\tavailableWidth -= minWidth;\n\t\t\t\t\t\t\ttotalPercent -= childWidth.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n\t\t\t\t\t\tif (w > maxWidth) {\n\t\t\t\t\t\t\tavailableWidth -= maxWidth;\n\t\t\t\t\t\t\ttotalPercent -= childWidth.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (!$type.isNumber(childWidth)) {\n\t\t\t\t\t\t\tchildWidth = child.width();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tavailableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (availableWidth < 0) {\n\t\t\tavailableWidth = 0.01;\n\t\t}\n\n\t\t//if (availableWidth > 0) {\n\t\teachChildren(container, (child) => {\n\t\t\tif (child.isVisible()) {\n\t\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\t\tlet childWidth = child.get(\"width\");\n\t\t\t\t\tif (childWidth instanceof Percent) {\n\t\t\t\t\t\tlet privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\n\t\t\t\t\t\tlet minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n\t\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n\t\t\t\t\t\tprivateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\n\n\t\t\t\t\t\tchild.setPrivate(\"width\", privateWidth);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t//}\n\n\t\tlet prevX = paddingLeft;\n\n\t\teachChildren(container, (child) => {\n\n\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\tif (child.isVisible()) {\n\t\t\t\t\tlet bounds = child.adjustedLocalBounds();\n\t\t\t\t\tlet marginLeft = child.get(\"marginLeft\", 0);\n\t\t\t\t\tlet marginRight = child.get(\"marginRight\", 0);\n\n\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\");\n\n\t\t\t\t\tlet left = bounds.left;\n\t\t\t\t\tlet right = bounds.right;\n\t\t\t\t\tif (maxWidth) {\n\t\t\t\t\t\tif (right - left > maxWidth) {\n\t\t\t\t\t\t\tright = left + maxWidth\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet x = prevX + marginLeft - left;\n\t\t\t\t\tchild.setPrivate(\"x\", x);\n\t\t\t\t\tprevX = x + right + marginRight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchild.setPrivate(\"x\", undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}