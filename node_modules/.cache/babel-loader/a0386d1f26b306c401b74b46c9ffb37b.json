{"ast":null,"code":"import StaffNavbar from '@/components/Navbar/StaffNavbar.vue';\nimport StaffTable from '@/components/Table/StaffTable.vue';\nexport default {\n  name: 'Staff',\n  components: {\n    StaffNavbar,\n    StaffTable\n  },\n\n  data() {\n    return {\n      tabs: [],\n      counter: 1\n    };\n  },\n\n  methods: {\n    closeTab(x) {\n      for (let i = 0; i < this.tabs.length; i++) {\n        if (this.tabs[i].id === x) {\n          this.tabs.splice(i, 1);\n        }\n      }\n\n      localStorage.setItem('tabs', JSON.stringify([...this.tabs]));\n    }\n\n  },\n\n  mounted() {\n    const tabs = localStorage.getItem('tabs');\n\n    if (tabs) {\n      this.tabs = JSON.parse(tabs);\n    }\n\n    document.title = 'Вагонный парк';\n  }\n\n};","map":{"version":3,"mappings":"AA+BA;AACA;AACA;EACAA,aADA;EAEAC;IAAAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC,QADA;MAEAC;IAFA;EAIA,CARA;;EASAC;IACAC;MACA;QACA;UACA;QACA;MACA;;MACAC;IACA;;EARA,CATA;;EAmBAC;IACA;;IACA;MACA;IACA;;IACAC;EAEA;;AA1BA","names":["name","components","StaffNavbar","StaffTable","data","tabs","counter","methods","closeTab","localStorage","mounted","document"],"sourceRoot":"src/views","sources":["Staff.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <StaffNavbar :tabs=\"tabs\" :counter=\"counter\"></StaffNavbar>\r\n        <!-- <WagonNavbar></WagonNavbar> -->\r\n        <p class=\"infoNull\" v-if=\"tabs.length === 0\">Вы не выбрали ещё ни одной таблицы</p>\r\n        <div>\r\n            <b-card no-body class=\"leftTable\">\r\n                <b-tabs card>\r\n                    <b-tab v-for=\"i in tabs\" :key=\"i.id\" >\r\n  \r\n                        <template #title>\r\n                            <span>Таблица {{i.name}}</span>\r\n                            <span @click=\"closeTab(i.id)\">&nbsp;&nbsp;❌</span>\r\n                        </template>\r\n  \r\n                        <b-card-text>\r\n                            {{i.name}}\r\n                            <div v-if=\"i.name==='Сотрудники'\"> \r\n                                <StaffTable/>\r\n                            </div>\r\n                            \r\n                        \r\n                        </b-card-text>\r\n                    </b-tab>\r\n                </b-tabs>\r\n            </b-card>\r\n        </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport StaffNavbar from '@/components/Navbar/StaffNavbar.vue'\r\nimport StaffTable from '@/components/Table/StaffTable.vue'\r\nexport default {\r\n    name: 'Staff',\r\n    components: {StaffNavbar, StaffTable},\r\n     data(){\r\n         return{\r\n             tabs: [],\r\n             counter: 1\r\n         }\r\n     },\r\n     methods:{\r\n         closeTab(x) {\r\n             for (let i = 0; i < this.tabs.length; i++) {\r\n                 if (this.tabs[i].id === x) {\r\n                     this.tabs.splice(i, 1)\r\n                 }\r\n             }\r\n             localStorage.setItem('tabs', JSON.stringify([...this.tabs]))\r\n         },\r\n     },\r\n     mounted() {\r\n         const tabs = localStorage.getItem('tabs')\r\n         if (tabs) {\r\n             this.tabs = JSON.parse(tabs)\r\n         }\r\n         document.title = 'Вагонный парк'\r\n\r\n     } \r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}