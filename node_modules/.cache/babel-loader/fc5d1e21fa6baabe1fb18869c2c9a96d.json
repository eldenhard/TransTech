{"ast":null,"code":"import { mapState } from 'vuex';\nimport api from '@/api/staff';\nexport default {\n  name: 'StaffTable',\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid\n    })\n  },\n\n  data() {\n    return {\n      all_staff: '',\n      loaderStaff: false,\n      checkedNames: [],\n      chc: ''\n    };\n  },\n\n  methods: {\n    allStaff() {\n      this.loaderStaff = true;\n      api.getAllStaff().then(response => {\n        this.all_staff = response.data.data;\n        this.loaderStaff = false;\n      }).catch(err => {\n        console.log(err);\n        this.loaderStaff = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6FA;AACA;AACA;EACAA,kBADA;EAEAC,YACA;MACAC,8BADA;MAEAC;IAFA;EADA,CAFA;;EAQAC;IACA;MACAC,aADA;MAEAC,kBAFA;MAGAC,gBAHA;MAIAC;IAJA;EAOA,CAhBA;;EAkBAC;IACAC;MACA;MACAC,kBACAC,IADA,CACAC;QACA;QACA;MACA,CAJA,EAIAC,KAJA,CAIAC;QACAC;QACA;MACA,CAPA;IAQA;;EAXA;AAlBA","names":["name","computed","user","uid","data","all_staff","loaderStaff","checkedNames","chc","methods","allStaff","api","then","response","catch","err","console"],"sourceRoot":"src/components/Table","sources":["StaffTable.vue"],"sourcesContent":["<template>\r\n    <div>\r\n\r\n        <button class=\"button Accept staffButton\" style=\"width: 50%\" @click=\"allStaff()\">Запросить всех сотрудников</button>\r\n        <br>\r\n\r\n<table class=\"staff_table table\" >\r\n    <thead class=\"head-staff\">\r\n      <th>Фамилия</th>\r\n      <th>Имя</th>\r\n      <th>Отчество</th>\r\n      <th>Должность</th>\r\n      <th>Почта</th>\r\n      <th>Отдел</th>\r\n      <th>Телефон корпоративный</th>\r\n      <th>Телефон личный</th>\r\n      <th>Внутренний номер</th>\r\n      <th>Время работы</th>\r\n      <th>Начальник</th>\r\n      <th>Редактировать</th>\r\n      <th>Удалить</th>\r\n    </thead>\r\n\r\n    <tbody>\r\n        <tr v-for=\"staff in all_staff\" :key=\"staff.id\">\r\n            <td>{{staff.last_name}}</td>\r\n            <td>{{staff.first_name}}</td>\r\n            <td>{{staff.middle_name}}</td>\r\n            <td>{{staff.post}}</td>\r\n            <td>{{staff.email}}</td>\r\n            <td>{{staff.groups[0]}}</td>\r\n            <td v-if=\"staff.manager != null\">{{staff.manager.phone_corp}}</td>\r\n                <td v-else>Нет данных</td>\r\n            <td v-if=\"staff.manager != null\">{{staff.manager.phone_personal}}</td>\r\n                <td v-else>Нет данных</td>\r\n            <td v-if=\"staff.manager != null\">{{staff.manager.inner_number}}</td>\r\n                <td v-else>Нет данных</td>\r\n            <td v-if=\"staff.manager != null\">{{staff.manager.schedule}}</td>\r\n                <td v-else>Нет данных</td>  \r\n            <td v-if=\"staff.manager != null\">{{staff.manager.last_name}} {{staff.manager.first_name}} {{staff.manager.middle_name}}</td>\r\n                <td v-else>Нет данных</td>  \r\n            <td><button class=\"button Request\">Редактировать</button></td>\r\n            <td><button class=\"button Delete\">Удалить</button></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n\r\n<section  style=\"display:block\" id=\"loaderWagonTable\" v-if=\"loaderStaff\">\r\n\r\n<svg version=\"1.1\" id=\"L7\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n  viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\">\r\n <path fill=\"#C04945\" d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r\n  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"2s\" \r\n         from=\"0 50 50\"\r\n         to=\"360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n <path fill=\"#ECECEC\" d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r\n  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"1s\" \r\n         from=\"0 50 50\"\r\n         to=\"-360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n <path fill=\"#3D70A8\" d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r\n  L82,35.7z\">\r\n      <animateTransform \r\n         attributeName=\"transform\" \r\n         attributeType=\"XML\" \r\n         type=\"rotate\"\r\n         dur=\"2s\" \r\n         from=\"0 50 50\"\r\n         to=\"360 50 50\" \r\n         repeatCount=\"indefinite\" />\r\n  </path>\r\n</svg>\r\n  \r\n \r\n</section>   \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport api from '@/api/staff'\r\nexport default {\r\n    name: 'StaffTable',\r\n    computed: {\r\n        ...mapState({\r\n            user: state => state.auth.user,\r\n            uid: state => state.auth.uid\r\n        })\r\n    },\r\n    data(){\r\n        return {\r\n            all_staff: '',\r\n            loaderStaff: false,\r\n            checkedNames: [],\r\n            chc: ''\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        allStaff(){\r\n            this.loaderStaff = true\r\n            api.getAllStaff()\r\n            .then((response) => {\r\n                this.all_staff = response.data.data\r\n                this.loaderStaff = false\r\n            }).catch(err => {\r\n                console.log(err)\r\n                this.loaderStaff = false\r\n            })\r\n        },\r\n     \r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.staff_table {\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%,0);\r\n\r\n    max-width: 90% !important;\r\n    text-align: center !important;\r\n    border-bottom: solid 3px #c04945 !important;\r\n    padding: 8px !important;\r\n    font-size: small;\r\n    background-color: #eee !important;\r\n    color: #000000 !important;\r\n    overflow-x: auto;\r\n}\r\n\r\n.staffButton {\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n    width: 90% !important;\r\n}\r\n.staff_table>td{\r\n    display: flex;\r\n    align-items: center;\r\n  justify-content: center;\r\n}\r\ntr:hover {\r\n  background-color: #eee !important;\r\n  outline: solid 1px #c04945  !important;\r\n  cursor: pointer;\r\n}\r\n.head-staff>th {\r\n    background: #ebebeb;\r\n    border: 1px solid grey;\r\n    align-items: center;\r\n  justify-content: center;\r\n  border-bottom: solid 3px #c04945 !important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}