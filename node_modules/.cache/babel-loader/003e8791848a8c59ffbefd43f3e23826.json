{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as am5 from \"@amcharts/amcharts5\";\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\nimport { mapState } from \"vuex\";\nimport api from \"@/api/wagonPark\";\nexport default {\n  name: 'KeyFacts',\n\n  data() {\n    return {\n      keyfacts: [],\n      data\n    };\n  },\n\n  computed: { ...mapState({\n      user: state => state.auth.user,\n      uid: state => state.auth.uid\n    })\n  },\n\n  mounted() {\n    api.getKeyFacts().then(response => {\n      this.keyfacts = response.data.wagons;\n      let data = [];\n\n      for (let key in this.keyfacts) {\n        let amount = this.keyfacts[key];\n        data.push({\n          'wagon_type': key,\n          'amount': amount\n        });\n      }\n\n      this.keyfacts = data;\n    });\n    let root = am5.Root.new(this.$refs.chartdiv);\n    let chart = root.container.children.push(am5percent.PieChart.new(root, {\n      layout: root.verticalHorizontal\n    })); // Define data\n    // let data = [{\n    //     country: \"United Kingdom\",\n    //     sales: 80000\n    // }];\n    // Create series\n\n    let series = chart.series.push(am5percent.PieSeries.new(root, {\n      // name: \"Series\",\n      valueField: \"wagon_type\",\n      categoryField: \"amount\"\n    }));\n    series.data.setAll(data); // Add legend\n\n    var legend = chart.children.push(am5.Legend.new(root, {\n      centerX: am5.percent(50),\n      x: am5.percent(50),\n      layout: root.horizontalLayout\n    }));\n    legend.data.setAll(series.dataItems);\n  }\n\n};","map":{"version":3,"mappings":";AAYA;AACA;AACA;AACA;AAGA;EACAA,gBADA;;EAEAC;IACA;MACAC,YADA;MAEAD;IAFA;EAIA,CAPA;;EAQAE,YACA;MACAC,8BADA;MAEAC;IAFA;EADA,CARA;;EAcAC;IACAC,kBACAC,IADA,CACAC;MACA;MAEA;;MACA;QACA;QACAR;UACA,iBADA;UAEA;QAFA;MAKA;;MACA;IAGA,CAhBA;IAkBA;IACA,yCACAS;MACAC;IADA,EADA,EApBA,CA4BA;IACA;IACA;IACA;IACA;IAGA;;IACA,+BACAD;MACA;MACAE,wBAFA;MAGAC;IAHA,EADA;IAOAC,yBA3CA,CA6CA;;IACA;MACAC,wBADA;MAEAC,kBAFA;MAGAL;IAHA;IAMAM;EAEA;;AApEA","names":["name","data","keyfacts","computed","user","uid","mounted","api","then","response","am5percent","layout","valueField","categoryField","series","centerX","x","legend"],"sourceRoot":"src/views","sources":["KeyFacts.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- {{keyfacts}} -->\r\n        <!-- <ul v-for=\"(value, name) in keyfacts\" :key=\"value.ind\">\r\n            <li> {{ name }}: {{ value }}</li>\r\n        </ul> -->\r\n        <div class=\"hello\" ref=\"chartdiv\">\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport * as am5 from \"@amcharts/amcharts5\";\r\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\r\nimport { mapState } from \"vuex\";\r\nimport api from \"@/api/wagonPark\"\r\n\r\n\r\nexport default {\r\n    name: 'KeyFacts',\r\n    data() {\r\n        return {\r\n            keyfacts: [],\r\n            data\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            user: state => state.auth.user,\r\n            uid: state => state.auth.uid\r\n        })\r\n    },\r\n    mounted() {\r\n        api.getKeyFacts()\r\n            .then(response => {\r\n                this.keyfacts = response.data.wagons\r\n\r\n                let data = []\r\n                for (let key in this.keyfacts) {\r\n                    let amount = this.keyfacts[key]\r\n                    data.push({\r\n                            'wagon_type': key,\r\n                            'amount': amount\r\n                        })\r\n                       \r\n                }\r\n                this.keyfacts = data\r\n                \r\n              \r\n            })\r\n\r\n        let root = am5.Root.new(this.$refs.chartdiv);\r\n        let chart = root.container.children.push(\r\n            am5percent.PieChart.new(root, {\r\n                layout: root.verticalHorizontal\r\n            })\r\n        );\r\n\r\n\r\n\r\n        // Define data\r\n        // let data = [{\r\n        //     country: \"United Kingdom\",\r\n        //     sales: 80000\r\n        // }];\r\n     \r\n \r\n        // Create series\r\n        let series = chart.series.push(\r\n            am5percent.PieSeries.new(root, {\r\n                // name: \"Series\",\r\n                valueField: \"wagon_type\",\r\n                categoryField: \"amount\"\r\n            })\r\n        );\r\n        series.data.setAll(data);\r\n\r\n        // Add legend\r\n        var legend = chart.children.push(am5.Legend.new(root, {\r\n            centerX: am5.percent(50),\r\n            x: am5.percent(50),\r\n            layout: root.horizontalLayout\r\n        }));\r\n\r\n        legend.data.setAll(series.dataItems);\r\n\r\n    }\r\n}\r\n</script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.hello {\r\n    margin-top: 5%;\r\n    width: 100%;\r\n    height: 700px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}