{"ast":null,"code":"import axios from \"axios\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: 'Authorization',\n\n  data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n\n  methods: {\n    submitEntry: function () {\n      const api = \"http://10.1.5.65/api/personal/login/\";\n      axios.post(api, {\n        email: this.email,\n        password: this.password\n      }).then(resp => {\n        let user = resp.data;\n        console.log(user);\n\n        if (user.token) {\n          this.$store.commit('setUser', user);\n        }\n      });\n      return false;\n    },\n\n    addStatusMessage(type, message, lifespan = 3000) {\n      let statusMessagesContainer = document.getElementById(\"status-messages-container\");\n      let divElement = document.createElement(\"div\");\n      divElement.className = \"status-message \" + type + \"-message\";\n      let iElement = document.createElement(\"i\");\n      iElement.className = \"fa\";\n\n      switch (type) {\n        case \"info\":\n          iElement.className += \" fa-info-circle\";\n          break;\n\n        case \"success\":\n          iElement.className += \" fa-check\";\n          break;\n\n        case \"warning\":\n          iElement.className += \" fa-warning\";\n          break;\n\n        case \"error\":\n          iElement.className += \" fa-times-circle\";\n          break;\n      }\n\n      let text = document.createTextNode(\" \" + message);\n      divElement.appendChild(iElement);\n      divElement.appendChild(text);\n      statusMessagesContainer.prepend(divElement);\n      $(divElement).fadeOut(0);\n      $(divElement).fadeIn(\"slow\");\n      setTimeout(removeStatusMessage, lifespan, divElement);\n    },\n\n    removeStatusMessage(divElement) {\n      $(divElement).fadeOut(\"slow\", function () {\n        divElement.remove();\n      });\n    }\n\n  },\n  computed: { ...mapState({\n      user: state => state.user\n    })\n  }\n};","map":{"version":3,"mappings":"AA4BA;AACA;AACA;EACAA,qBADA;;EAEAC;IACA;MACAC,SADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACAC;MACA;MACAC,MACAC,IADA,CACAC,GADA,EACA;QACAN,iBADA;QAEAC;MAFA,CADA,EAKAM,IALA,CAKAC;QACA;QACAC;;QACA;UACA;QAEA;MACA,CAZA;MAaA;IACA,CAjBA;;IAkBAC;MACA;MAEA;MACAC;MAEA;MACAC;;MACA;QACA;UACAA;UACA;;QAEA;UACAA;UACA;;QAEA;UACAA;UACA;;QAEA;UACAA;UACA;MAfA;;MAkBA;MAEAD;MACAA;MACAE;MACAC;MACAA;MAEAC;IACA,CArDA;;IAuDAC;MACAF;QAAAH;MAAA;IACA;;EAzDA,CARA;EAmEAM,YACA;MACAC;IADA;EADA;AAnEA","names":["name","data","email","password","methods","submitEntry","axios","post","api","then","resp","console","addStatusMessage","divElement","iElement","statusMessagesContainer","$","setTimeout","removeStatusMessage","computed","user"],"sourceRoot":"src/views","sources":["Authorization.vue"],"sourcesContent":["<template>\r\n  <div id=\"id01\" class=\"modal\" :style=\"{'display': user.token ? 'none' : 'block'}\">\r\n    <div class=\"modal-content animate\" style=\" width: 40%;\">\r\n      <div class=\"container\">\r\n        <label for=\"uname\"><b>Email</b></label>\r\n        <input type=\"text\" required placeholder=\"i.ivanov@tehtrans.com\" v-model=\"email\">\r\n\r\n        <label for=\"psw\"><b>Пароль</b></label>\r\n        <input type=\"password\" required placeholder=\"Введите пароль\" v-model=\"password\">\r\n\r\n        <button @click=\"submitEntry()\">Войти</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"status-messages-container\"></div>\r\n    <!-- START   ONLY FOR CODEPEN -->\r\n    <input class=\"addMessageInput\" id=\"addInfo\" type=\"button\" value=\"Add info message\"/><br>\r\n    <input class=\"addMessageInput\" id=\"addSuccess\" type=\"button\" value=\"Add success message\"/><br>\r\n    <input class=\"addMessageInput\" id=\"addWarning\" type=\"button\" value=\"Add warning message\"/><br>\r\n    <input class=\"addMessageInput\" id=\"addError\" type=\"button\" value=\"Add error message\"/><br>\r\n\r\n    <!-- END   ONLY FOR CODEPEN -->\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {mapState} from \"vuex\";\r\nexport default {\r\n  name: 'Authorization',\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    submitEntry: function () {\r\n      const api = \"http://10.1.5.65/api/personal/login/\"\r\n      axios\r\n      .post(api, {\r\n          email: this.email,\r\n          password: this.password,\r\n        })\r\n      .then(resp => {\r\n        let user = resp.data\r\n        console.log(user)\r\n           if (user.token) {\r\n            this.$store.commit('setUser', user)\r\n\r\n          }\r\n        })\r\n      return false\r\n    },\r\naddStatusMessage(type, message, lifespan=3000){\r\n  let statusMessagesContainer = document.getElementById(\"status-messages-container\");\r\n\r\n  let divElement = document.createElement(\"div\");\r\n  divElement.className = \"status-message \" + type + \"-message\";\r\n\r\n  let iElement = document.createElement(\"i\");\r\n  iElement.className = \"fa\";\r\n  switch(type){\r\n    case \"info\":\r\n      iElement.className += \" fa-info-circle\";\r\n      break;\r\n\r\n    case \"success\":\r\n      iElement.className += \" fa-check\";\r\n      break;\r\n\r\n    case \"warning\":\r\n      iElement.className += \" fa-warning\";\r\n      break;\r\n\r\n    case \"error\":\r\n      iElement.className += \" fa-times-circle\";\r\n      break;\r\n  }\r\n\r\n  let text = document.createTextNode(\" \" + message);\r\n\r\n  divElement.appendChild(iElement);\r\n  divElement.appendChild(text);\r\n  statusMessagesContainer.prepend(divElement);\r\n  $(divElement).fadeOut(0);\r\n  $(divElement).fadeIn(\"slow\");\r\n  \r\n  setTimeout(removeStatusMessage, lifespan, divElement);\r\n},\r\n\r\nremoveStatusMessage(divElement){\r\n  $(divElement).fadeOut(\"slow\", function(){divElement.remove()});\r\n}\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user: state => state.user\r\n    })\r\n  }\r\n}\r\n    </script>\r\n\r\n\r\n\r\n\r\n\r\n<style>\r\n\r\n#status-messages-container {\r\n  z-index: 999;\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n}\r\n\r\n.status-message {\r\n  padding: 0.5em;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  font-size: 1.8em;\r\n  border-radius: 0.5em;\r\n  pointer-events: none;\r\n  margin: 1em;\r\n}\r\n\r\n.info-message {\r\n  background-color: #AFCBE1;\r\n  color: #094579;\r\n}\r\n\r\n.success-message {\r\n  background-color: #AFE1AF;\r\n  color: #097969;\r\n}\r\n\r\n.warning-message {\r\n  background-color: #DBE1AF;\r\n  color: #6F7909;\r\n}\r\n\r\n.error-message {\r\n  background-color: #E1AFAF;\r\n  color: #790909;\r\n}\r\n\r\n.addMessageInput{\r\n    cursor: pointer;\r\n    padding: 0.5em;\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n    border: 0.2em solid #007EEC;\r\n    background: #1d1e22;\r\n    color: white;\r\n    border-radius: 2em;\r\n    margin: 1em;\r\n    margin-bottom: 0.5em;\r\n  }\r\n\r\n  .addMessageInput:hover{\r\n    background: #007EEC;\r\n    color: #1d1e22;\r\n  }\r\n  #anmabe{\r\n    background: linear-gradient(\r\n      -45deg, \r\n      #ee7752, \r\n      #e73c7e, \r\n      #23a6d5, \r\n      #23d5ab);\r\n    background-size: 400% 400%;\r\n    animation: gradient 15s ease infinite;\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n  }\r\n\r\n  #anmabe:hover{\r\n    text-decoration: underline;\r\n  }\r\n\r\n  @keyframes gradient {\r\n    0% {\r\n      background-position: 0% 50%;\r\n    }\r\n    50% {\r\n      background-position: 100% 50%;\r\n    }\r\n    100% {\r\n      background-position: 0% 50%;\r\n    }\r\n  }\r\n  /* ---- END FOOTER ---- */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ninput[type=text], input[type=password] {\r\n    width: 100%;\r\n    padding: 12px 20px;\r\n    margin: 8px 0;\r\n    display: inline-block;\r\n    border: 1px solid #ccc;\r\n    box-sizing: border-box;\r\n}\r\nbutton {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 14px 20px;\r\n    margin: 8px 0;\r\n    border: none;\r\n    cursor: pointer;\r\n    width: 100%;\r\n}\r\nbutton:hover {\r\n    opacity: 0.8;\r\n}\r\n.cancelbtn {\r\n    width: auto;\r\n    padding: 10px 18px;\r\n    background-color: #f44336;\r\n}\r\n.imgcontainer {\r\n    text-align: center;\r\n    margin: 24px 0 12px 0;\r\n    position: relative;\r\n}\r\n\r\n.container {\r\n    padding: 16px;\r\n}\r\n\r\nspan.psw {\r\n    float: right;\r\n    padding-top: 16px;\r\n}\r\n.modal {\r\n    display: none;\r\n    position: fixed;\r\n    z-index: 1;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n    background-color: rgb(0,0,0);\r\n    background-color: rgba(0,0,0,0.4);\r\n    padding-top: 60px;\r\n}\r\n\r\n.modal-content {\r\n    background-color: #fefefe;\r\n    margin: 5% auto 15% auto;\r\n    border: 1px solid #888;\r\n    width: 40%;\r\n}\r\n\r\n.close {\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 0;\r\n    color: #000;\r\n    font-size: 35px;\r\n    font-weight: bold;\r\n}\r\n\r\n.close:hover,\r\n.close:focus {\r\n    color: red;\r\n    cursor: pointer;\r\n}\r\n\r\n.animate {\r\n    -webkit-animation: animatezoom 0.6s;\r\n    animation: animatezoom 0.6s\r\n}\r\n\r\n@-webkit-keyframes animatezoom {\r\n    from {-webkit-transform: scale(0)}\r\n    to {-webkit-transform: scale(1)}\r\n}\r\n\r\n@keyframes animatezoom {\r\n    from {transform: scale(0)}\r\n    to {transform: scale(1)}\r\n}\r\n\r\n@media screen and (max-width: 300px) {\r\n    span.psw {\r\n       display: block;\r\n       float: none;\r\n    }\r\n    .cancelbtn {\r\n       width: 100%;\r\n    }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}