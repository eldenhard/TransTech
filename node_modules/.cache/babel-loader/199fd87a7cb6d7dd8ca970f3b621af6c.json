{"ast":null,"code":"import { mapState } from 'vuex';\nexport default {\n  name: 'lk',\n  computed: { ...mapState({\n      id: state => state.auth.uid\n    })\n  },\n\n  data() {\n    return {\n      id: [],\n      PersonalData: '',\n      emp: ''\n    };\n  },\n\n  mounted() {\n    const token = JSON.parse(localStorage.getItem(\"accessToken\")); // const token = pretoken.user.token\n\n    const preid = JSON.parse(localStorage.getItem('vuex'));\n    const id = preid.auth.uid;\n    document.getElementById('loading-page-report').style.display = 'block'; // fetch('http://10.1.5.65/api/reports/kpi/', {\n    // headers: {\n    //     'Authorization': `Basic ${token}` \n    // },\n    // method: 'GET'\n    // })\n    // .then((response) => {\n    //     if (response.ok){\n    //         return response.json().then(r=>{\n    //             this.all_reports = r.data.data;\n    //             document.getElementById('loading-page-report').style.display = 'none'\n    //             console.log(this.all_reports)\n    //     })\n    // }\n    //        else{\n    //            console.log('NOT OK')\n    //            document.getElementById('loading-page-report').style.display = 'none'\n    //        }\n    //    }),\n\n    fetch('http://10.1.5.65/api/personal/users/' + `${id}`, {\n      headers: {\n        'Authorization': `Basic ${token}`\n      },\n      method: 'GET'\n    }).then(response => {\n      if (response.ok) {\n        return response.json().then(r => {\n          this.PersonalData = r;\n          document.getElementById('loading-page-report').style.display = 'none';\n          console.log(this.PersonalData);\n        });\n      } else {\n        console.log('NOT OK'); //    document.getElementById('loading-page-report').style.display = 'none'\n\n        document.getElementById('notifications-2').style.display = 'block';\n        setTimeout(this.Notif, 2500);\n      }\n    }), fetch('http://10.1.5.65/api/personal/users/?page_size=200&manager=' + `${id}`, {\n      headers: {\n        'Authorization': `Basic ${token}`\n      },\n      method: 'GET'\n    }).then(response => {\n      if (response.ok) {\n        return response.json().then(r => {\n          this.emp = r.data;\n          document.getElementById('loading-page-report').style.display = 'none';\n          console.log(this.emp);\n        });\n      } else {\n        console.log('NOT OK');\n        document.getElementById('loading-page-report').style.display = 'none';\n        document.getElementById('notifications-2').style.display = 'block';\n        setTimeout(this.Notif, 2500);\n      }\n    });\n  },\n\n  methods: {\n    Notif() {\n      document.getElementById('notifications-2').style.display = 'none';\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsBA;AACA;EACAA,UADA;EAEAC,YACA;MACAC;IADA;EADA,CAFA;;EAOAC;IACA;MACAD,MADA;MAEAE,gBAFA;MAGAC;IAHA;EAKA,CAbA;;EAcAC;IACA,8DADA,CAEA;;IACA;IACA;IAEAC,uEANA,CAOA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;;IAEAC;MACAC;QACA;MADA,CADA;MAIAC;IAJA,GAMAC,IANA,CAMAC;MACA;QACA;UACA;UACAL;UACAM;QACA,CAJA;MAKA,CANA,MAOA;QACAA,sBADA,CAEA;;QACAN;QACAO;MAEA;IACA,CArBA,GAuBAN;MACAC;QACA;MADA,CADA;MAIAC;IAJA,GAMAC,IANA,CAMAC;MACA;QACA;UACA;UACAL;UACAM;QACA,CAJA;MAKA,CANA,MAOA;QACAA;QACAN;QACAA;QACAO;MAEA;IACA,CArBA,CAvBA;EA6CA,CAvFA;;EAwFAC;IACAC;MACAT;IAEA;;EAJA;AAxFA","names":["name","computed","id","data","PersonalData","emp","mounted","document","fetch","headers","method","then","response","console","setTimeout","methods","Notif"],"sourceRoot":"src/views","sources":["lk.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <h2>Личный кабинет</h2>\r\n<br><br>\r\n   \r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\"></div>\r\n        \r\n        <div class=\"col-md-6\"></div>\r\n    </div>\r\n     \r\n\r\n<!-- <footer style=\"margin-top: 10%; \">\r\n    <div style=\"width: 100%; height: 300px;  position: relative;text-align: center;color: white;\">\r\n    <img src=\"../assets/Train.jpg\" style=\"object-fit: cover; width: 100%; height: 100%; filter: grayscale(0.9); \">\r\n    <img src=\"../assets/photo.png\" alt=\"\" style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);\">\r\n</div>\r\n</footer> -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n    name: 'lk',\r\n    computed: {\r\n        ...mapState({\r\n            id: state=> state.auth.uid\r\n        })\r\n    },\r\n    data(){\r\n        return{\r\n            id: [],\r\n            PersonalData: '',\r\n            emp: ''\r\n        }\r\n    },\r\nmounted(){\r\n    const token = JSON.parse(localStorage.getItem(\"accessToken\"))\r\n    // const token = pretoken.user.token\r\n    const preid = JSON.parse(localStorage.getItem('vuex'))\r\n    const id = preid.auth.uid\r\n\r\n    document.getElementById('loading-page-report').style.display = 'block'\r\n    // fetch('http://10.1.5.65/api/reports/kpi/', {\r\n    // headers: {\r\n    //     'Authorization': `Basic ${token}` \r\n    // },\r\n    // method: 'GET'\r\n    // })\r\n    // .then((response) => {\r\n    //     if (response.ok){\r\n    //         return response.json().then(r=>{\r\n    //             this.all_reports = r.data.data;\r\n    //             document.getElementById('loading-page-report').style.display = 'none'\r\n    //             console.log(this.all_reports)\r\n    //     })\r\n    // }\r\n    //        else{\r\n    //            console.log('NOT OK')\r\n    //            document.getElementById('loading-page-report').style.display = 'none'\r\n\r\n    //        }\r\n    //    }),\r\n     \r\n    fetch('http://10.1.5.65/api/personal/users/'+ `${id}`, {\r\n    headers: {\r\n        'Authorization': `Basic ${token}` \r\n    },\r\n    method: 'GET'\r\n    })\r\n    .then((response) => {\r\n                if (response.ok){\r\n                    return response.json().then(r=>{\r\n                        this.PersonalData = r;\r\n                        document.getElementById('loading-page-report').style.display = 'none'\r\n                        console.log(this.PersonalData)\r\n               })\r\n           }\r\n           else{\r\n               console.log('NOT OK')\r\n            //    document.getElementById('loading-page-report').style.display = 'none'\r\n               document.getElementById('notifications-2').style.display = 'block'\r\n               setTimeout(this.Notif, 2500)\r\n\r\n           }\r\n       }),\r\n\r\nfetch('http://10.1.5.65/api/personal/users/?page_size=200&manager='+ `${id}`, {\r\n    headers: {\r\n        'Authorization': `Basic ${token}` \r\n    },\r\n    method: 'GET'\r\n    })\r\n    .then((response) => {\r\n                if (response.ok){\r\n                    return response.json().then(r=>{\r\n                        this.emp = r.data;\r\n                        document.getElementById('loading-page-report').style.display = 'none'\r\n                        console.log(this.emp)\r\n               })\r\n           }\r\n           else{\r\n               console.log('NOT OK')\r\n               document.getElementById('loading-page-report').style.display = 'none'\r\n               document.getElementById('notifications-2').style.display = 'block'\r\n               setTimeout(this.Notif, 2500)\r\n\r\n           }\r\n       })       \r\n    },\r\n    methods: {\r\n        Notif(){\r\n            document.getElementById('notifications-2').style.display = 'none'\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.contact-var  {\r\n    font-size: 20px;\r\n}\r\n.contact-information {\r\n   position: relative;\r\n   left:50%;\r\n   transform: translate(-50%,0);\r\n    width: 90%;\r\n    padding: 0 !important;\r\n    margin: 0 !important;\r\n}\r\n.contact-header {\r\n    font-weight: bold;\r\n    font-size: 15px;\r\n    padding: 0 !important;\r\n    margin: 0 !important;\r\n}\r\n.report-link {\r\n    margin-top: 1%;\r\n}    \r\n#loading-page-report {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: rgb(17, 17, 17, 0.1);\r\n    display: flex;\r\n    position: fixed;\r\n    top: 0;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    z-index: 9999999999999;\r\n\r\n}\r\n#loading-page-report svg{\r\n    width: 120px;\r\n    height: 120px;\r\n    display: inline-block;\r\n    position: relative !important;\r\n    left: 50% !important;\r\n    transform: translate(-50%,0) !important;\r\n    margin-top: 15%;\r\n}\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}